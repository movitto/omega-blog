<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: EventMachine::Protocols::LineText2
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (L)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../EventMachine.html" title="EventMachine (module)">EventMachine</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Protocols.html" title="EventMachine::Protocols (module)">Protocols</a></span></span>
     &raquo; 
    <span class="title">LineText2</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: EventMachine::Protocols::LineText2
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="HeaderAndContentProtocol.html" title="EventMachine::Protocols::HeaderAndContentProtocol (class)">HeaderAndContentProtocol</a></span>, <span class='object_link'><a href="HttpClient2.html" title="EventMachine::Protocols::HttpClient2 (class)">HttpClient2</a></span>, <span class='object_link'><a href="SmtpClient.html" title="EventMachine::Protocols::SmtpClient (class)">SmtpClient</a></span>, <span class='object_link'><a href="SmtpServer.html" title="EventMachine::Protocols::SmtpServer (class)">SmtpServer</a></span>, <span class='object_link'><a href="Stomp.html" title="EventMachine::Protocols::Stomp (module)">Stomp</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/em/protocols/linetext2.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>In the grand, time-honored tradition of re-inventing the wheel, we offer
here YET ANOTHER protocol that handles line-oriented data with interspersed
binary text. This one trades away some of the performance optimizations of
EventMachine::Protocols::LineAndTextProtocol in order to get better correctness
with regard to binary text blocks that can switch back to line mode. It also
permits the line-delimiter to change in midstream.
This was originally written to support Stomp.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="MaxLineLength-constant" class="">MaxLineLength =
          <div class="docstring">
  <div class="discussion">
    <p>TODO! We’re not enforcing the limits on header lengths and text-lengths.
When we get around to that, call #receive_error if the user defined it, otherwise
throw exceptions.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>16</span><span class='op'>*</span><span class='int'>1024</span></pre></dd>
      
        <dt id="MaxBinaryLength-constant" class="">MaxBinaryLength =
          
        </dt>
        <dd><pre class="code"><span class='int'>32</span><span class='op'>*</span><span class='int'>1024</span><span class='op'>*</span><span class='int'>1024</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#receive_binary_data-instance_method" title="#receive_binary_data (instance method)">- (Object) <strong>receive_binary_data</strong>(data) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Stub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#receive_data-instance_method" title="#receive_data (instance method)">- (Object) <strong>receive_data</strong>(data) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>–
Will be called recursively until there’s no data to read.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#receive_end_of_binary_data-instance_method" title="#receive_end_of_binary_data (instance method)">- (Object) <strong>receive_end_of_binary_data</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Stub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#receive_line-instance_method" title="#receive_line (instance method)">- (Object) <strong>receive_line</strong>(ln) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Stub.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_binary_mode-instance_method" title="#set_binary_mode (instance method)">- (Object) <strong>set_binary_mode</strong>(size = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Alias for #set_text_mode, added for back-compatibility with LineAndTextProtocol.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_delimiter-instance_method" title="#set_delimiter (instance method)">- (Object) <strong>set_delimiter</strong>(delim) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_line_mode-instance_method" title="#set_line_mode (instance method)">- (Object) <strong>set_line_mode</strong>(data = &quot;&quot;) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Called internally but also exposed to user code, for the case in which
processing of binary data creates a need to transition back to line mode.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_text_mode-instance_method" title="#set_text_mode (instance method)">- (Object) <strong>set_text_mode</strong>(size = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unbind-instance_method" title="#unbind (instance method)">- (Object) <strong>unbind</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>In case of a dropped connection, we’ll send a partial buffer to user code
when in sized text mode.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="receive_binary_data-instance_method">
  
    - (<tt>Object</tt>) <strong>receive_binary_data</strong>(data) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Stub. Should be subclassed by user code.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 147</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receive_binary_data'>receive_binary_data</span> <span class='id identifier rubyid_data'>data</span>
  <span class='comment'># no-op
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="receive_data-instance_method">
  
    - (<tt>Object</tt>) <strong>receive_data</strong>(data) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>–
Will be called recursively until there’s no data to read.
That way the user-defined handlers we call can modify the
handling characteristics on a per-token basis.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receive_data'>receive_data</span> <span class='id identifier rubyid_data'>data</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span> <span class='kw'>and</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>0</span><span class='rparen'>)</span>

  <span class='comment'># Do this stuff in lieu of a constructor.
</span>  <span class='ivar'>@lt2_mode</span> <span class='op'>||=</span> <span class='symbol'>:lines</span>
  <span class='ivar'>@lt2_delimiter</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@lt2_linebuffer</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='kw'>if</span> <span class='ivar'>@lt2_mode</span> <span class='op'>==</span> <span class='symbol'>:lines</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_ix'>ix</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span> <span class='ivar'>@lt2_delimiter</span> <span class='rparen'>)</span>
      <span class='ivar'>@lt2_linebuffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_ix'>ix</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_ln'>ln</span> <span class='op'>=</span> <span class='ivar'>@lt2_linebuffer</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
      <span class='ivar'>@lt2_linebuffer</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
      <span class='kw'>if</span> <span class='ivar'>@lt2_delimiter</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_ln'>ln</span><span class='period'>.</span><span class='id identifier rubyid_chomp!'>chomp!</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_receive_line'>receive_line</span> <span class='id identifier rubyid_ln'>ln</span>
      <span class='id identifier rubyid_receive_data'>receive_data</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id identifier rubyid_ix'>ix</span><span class='op'>+</span><span class='ivar'>@lt2_delimiter</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='ivar'>@lt2_linebuffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_data'>data</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='ivar'>@lt2_mode</span> <span class='op'>==</span> <span class='symbol'>:text</span>
    <span class='kw'>if</span> <span class='ivar'>@lt2_textsize</span>
      <span class='id identifier rubyid_needed'>needed</span> <span class='op'>=</span> <span class='ivar'>@lt2_textsize</span> <span class='op'>-</span> <span class='ivar'>@lt2_textpos</span>
      <span class='id identifier rubyid_will_take'>will_take</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_needed'>needed</span>
                    <span class='id identifier rubyid_needed'>needed</span>
                  <span class='kw'>else</span>
                    <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
                  <span class='kw'>end</span>

      <span class='ivar'>@lt2_textbuffer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_will_take'>will_take</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_tail'>tail</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='id identifier rubyid_will_take'>will_take</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>

      <span class='ivar'>@lt2_textpos</span> <span class='op'>+=</span> <span class='id identifier rubyid_will_take'>will_take</span>
      <span class='kw'>if</span> <span class='ivar'>@lt2_textpos</span> <span class='op'>&gt;=</span> <span class='ivar'>@lt2_textsize</span>
        <span class='comment'># Reset line mode (the default behavior) BEFORE calling the
</span>        <span class='comment'># receive_binary_data. This makes it possible for user code
</span>        <span class='comment'># to call set_text_mode, enabling chains of text blocks
</span>        <span class='comment'># (which can possibly be of different sizes).
</span>        <span class='id identifier rubyid_set_line_mode'>set_line_mode</span>
        <span class='id identifier rubyid_receive_binary_data'>receive_binary_data</span> <span class='ivar'>@lt2_textbuffer</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
        <span class='id identifier rubyid_receive_end_of_binary_data'>receive_end_of_binary_data</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_receive_data'>receive_data</span> <span class='id identifier rubyid_tail'>tail</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_receive_binary_data'>receive_binary_data</span> <span class='id identifier rubyid_data'>data</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="receive_end_of_binary_data-instance_method">
  
    - (<tt>Object</tt>) <strong>receive_end_of_binary_data</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Stub. Should be subclassed by user code.
This is called when transitioning internally from text mode
back to line mode. Useful when client code doesn’t want
to keep track of how much data it’s received.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receive_end_of_binary_data'>receive_end_of_binary_data</span>
  <span class='comment'># no-op
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="receive_line-instance_method">
  
    - (<tt>Object</tt>) <strong>receive_line</strong>(ln) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Stub. Should be subclassed by user code.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_receive_line'>receive_line</span> <span class='id identifier rubyid_ln'>ln</span>
  <span class='comment'># no-op
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_binary_mode-instance_method">
  
    - (<tt>Object</tt>) <strong>set_binary_mode</strong>(size = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Alias for #set_text_mode, added for back-compatibility with LineAndTextProtocol.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_binary_mode'>set_binary_mode</span> <span class='id identifier rubyid_size'>size</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='id identifier rubyid_set_text_mode'>set_text_mode</span> <span class='id identifier rubyid_size'>size</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_delimiter-instance_method">
  
    - (<tt>Object</tt>) <strong>set_delimiter</strong>(delim) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_delimiter'>set_delimiter</span> <span class='id identifier rubyid_delim'>delim</span>
  <span class='ivar'>@lt2_delimiter</span> <span class='op'>=</span> <span class='id identifier rubyid_delim'>delim</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_line_mode-instance_method">
  
    - (<tt>Object</tt>) <strong>set_line_mode</strong>(data = &quot;&quot;) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Called internally but also exposed to user code, for the case in which
processing of binary data creates a need to transition back to line mode.
We support an optional parameter to “throw back” some data, which might
be an umprocessed chunk of the transmitted binary data, or something else
entirely.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_line_mode'>set_line_mode</span> <span class='id identifier rubyid_data'>data</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@lt2_mode</span> <span class='op'>=</span> <span class='symbol'>:lines</span>
  <span class='lparen'>(</span><span class='ivar'>@lt2_linebuffer</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
  <span class='id identifier rubyid_receive_data'>receive_data</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_text_mode-instance_method">
  
    - (<tt>Object</tt>) <strong>set_text_mode</strong>(size = nil) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 115</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_text_mode'>set_text_mode</span> <span class='id identifier rubyid_size'>size</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='id identifier rubyid_set_line_mode'>set_line_mode</span>
  <span class='kw'>else</span>
    <span class='ivar'>@lt2_mode</span> <span class='op'>=</span> <span class='symbol'>:text</span>
    <span class='lparen'>(</span><span class='ivar'>@lt2_textbuffer</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='ivar'>@lt2_textsize</span> <span class='op'>=</span> <span class='id identifier rubyid_size'>size</span> <span class='comment'># which can be nil, signifying no limit
</span>    <span class='ivar'>@lt2_textpos</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unbind-instance_method">
  
    - (<tt>Object</tt>) <strong>unbind</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>In case of a dropped connection, we’ll send a partial buffer to user code
when in sized text mode. User overrides of #receive_binary_data need to
be aware that they may get a short buffer.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


134
135
136
137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em/protocols/linetext2.rb', line 134</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unbind'>unbind</span>
  <span class='ivar'>@lt2_mode</span> <span class='op'>||=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='ivar'>@lt2_mode</span> <span class='op'>==</span> <span class='symbol'>:text</span> <span class='kw'>and</span> <span class='ivar'>@lt2_textpos</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_receive_binary_data'>receive_binary_data</span> <span class='ivar'>@lt2_textbuffer</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Feb 21 19:34:59 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>