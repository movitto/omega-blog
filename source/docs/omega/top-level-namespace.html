<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Top Level Namespace
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo;
    
    
    <span class="title">Top Level Namespace</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Top Level Namespace
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Cosmos.html" title="Cosmos (module)">Cosmos</a></span>, <span class='object_link'><a href="Manufactured.html" title="Manufactured (module)">Manufactured</a></span>, <span class='object_link'><a href="Missions.html" title="Missions (module)">Missions</a></span>, <span class='object_link'><a href="Motel.html" title="Motel (module)">Motel</a></span>, <span class='object_link'><a href="Omega.html" title="Omega (module)">Omega</a></span>, <span class='object_link'><a href="PasswordHelper.html" title="PasswordHelper (module)">PasswordHelper</a></span>, <span class='object_link'><a href="Stats.html" title="Stats (module)">Stats</a></span>, <span class='object_link'><a href="Users.html" title="Users (module)">Users</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span>, <span class='object_link'><a href="Class.html" title="Class (class)">Class</a></span>, <span class='object_link'><a href="Fixnum.html" title="Fixnum (class)">Fixnum</a></span>, <span class='object_link'><a href="Float.html" title="Float (class)">Float</a></span>, <span class='object_link'><a href="Module.html" title="Module (class)">Module</a></span>, <span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span>, <span class='object_link'><a href="String.html" title="String (class)">String</a></span>
    
  
</p>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="ADMIN_METHODS-constant" class="">ADMIN_METHODS =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span> <span class='symbol'>:set</span>   <span class='op'>=&gt;</span> <span class='id identifier rubyid_admin_set'>admin_set</span><span class='comma'>,</span> <span class='symbol'>:run_callbacks</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_admin_run_callbacks'>admin_run_callbacks</span> <span class='rbrace'>}</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_cosmos_rjr_create-instance_method" title="#dispatch_cosmos_rjr_create (instance method)">- (Object) <strong>dispatch_cosmos_rjr_create</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_cosmos_rjr_get-instance_method" title="#dispatch_cosmos_rjr_get (instance method)">- (Object) <strong>dispatch_cosmos_rjr_get</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Cosmos::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_cosmos_rjr_init-instance_method" title="#dispatch_cosmos_rjr_init (instance method)">- (Object) <strong>dispatch_cosmos_rjr_init</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Dispatch init.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_cosmos_rjr_inspect-instance_method" title="#dispatch_cosmos_rjr_inspect (instance method)">- (Object) <strong>dispatch_cosmos_rjr_inspect</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TODO</p>
<ul><li>
<p>total # of entities and # of entities of each type</p>
</li><li>
<p>total # of resources.</p>
</li></ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_cosmos_rjr_resources-instance_method" title="#dispatch_cosmos_rjr_resources (instance method)">- (Object) <strong>dispatch_cosmos_rjr_resources</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Cosmos::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_cosmos_rjr_state-instance_method" title="#dispatch_cosmos_rjr_state (instance method)">- (Object) <strong>dispatch_cosmos_rjr_state</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_admin-instance_method" title="#dispatch_manufactured_rjr_admin (instance method)">- (Object) <strong>dispatch_manufactured_rjr_admin</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_attack-instance_method" title="#dispatch_manufactured_rjr_attack (instance method)">- (Object) <strong>dispatch_manufactured_rjr_attack</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Manufactured::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_create-instance_method" title="#dispatch_manufactured_rjr_create (instance method)">- (Object) <strong>dispatch_manufactured_rjr_create</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_dock-instance_method" title="#dispatch_manufactured_rjr_dock (instance method)">- (Object) <strong>dispatch_manufactured_rjr_dock</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Manufactured::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_events-instance_method" title="#dispatch_manufactured_rjr_events (instance method)">- (Object) <strong>dispatch_manufactured_rjr_events</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_get-instance_method" title="#dispatch_manufactured_rjr_get (instance method)">- (Object) <strong>dispatch_manufactured_rjr_get</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_init-instance_method" title="#dispatch_manufactured_rjr_init (instance method)">- (Object) <strong>dispatch_manufactured_rjr_init</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Dispatch init.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_inspect-instance_method" title="#dispatch_manufactured_rjr_inspect (instance method)">- (Object) <strong>dispatch_manufactured_rjr_inspect</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_loot-instance_method" title="#dispatch_manufactured_rjr_loot (instance method)">- (Object) <strong>dispatch_manufactured_rjr_loot</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Manufactured::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_mining-instance_method" title="#dispatch_manufactured_rjr_mining (instance method)">- (Object) <strong>dispatch_manufactured_rjr_mining</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Manufactured::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_movement-instance_method" title="#dispatch_manufactured_rjr_movement (instance method)">- (Object) <strong>dispatch_manufactured_rjr_movement</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Manufactured::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_resources-instance_method" title="#dispatch_manufactured_rjr_resources (instance method)">- (Object) <strong>dispatch_manufactured_rjr_resources</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Manufactured::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_manufactured_rjr_state-instance_method" title="#dispatch_manufactured_rjr_state (instance method)">- (Object) <strong>dispatch_manufactured_rjr_state</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_missions_rjr_assign-instance_method" title="#dispatch_missions_rjr_assign (instance method)">- (Object) <strong>dispatch_missions_rjr_assign</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_missions_rjr_create-instance_method" title="#dispatch_missions_rjr_create (instance method)">- (Object) <strong>dispatch_missions_rjr_create</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Missions::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_missions_rjr_get-instance_method" title="#dispatch_missions_rjr_get (instance method)">- (Object) <strong>dispatch_missions_rjr_get</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Missions::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_missions_rjr_hooks-instance_method" title="#dispatch_missions_rjr_hooks (instance method)">- (Object) <strong>dispatch_missions_rjr_hooks</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Missions::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_missions_rjr_init-instance_method" title="#dispatch_missions_rjr_init (instance method)">- (Object) <strong>dispatch_missions_rjr_init</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Dispatch init.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_missions_rjr_inspect-instance_method" title="#dispatch_missions_rjr_inspect (instance method)">- (Object) <strong>dispatch_missions_rjr_inspect</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_missions_rjr_state-instance_method" title="#dispatch_missions_rjr_state (instance method)">- (Object) <strong>dispatch_missions_rjr_state</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_create-instance_method" title="#dispatch_motel_rjr_create (instance method)">- (Object) <strong>dispatch_motel_rjr_create</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_delete-instance_method" title="#dispatch_motel_rjr_delete (instance method)">- (Object) <strong>dispatch_motel_rjr_delete</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_get-instance_method" title="#dispatch_motel_rjr_get (instance method)">- (Object) <strong>dispatch_motel_rjr_get</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_init-instance_method" title="#dispatch_motel_rjr_init (instance method)">- (Object) <strong>dispatch_motel_rjr_init</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_inspect-instance_method" title="#dispatch_motel_rjr_inspect (instance method)">- (Object) <strong>dispatch_motel_rjr_inspect</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_state-instance_method" title="#dispatch_motel_rjr_state (instance method)">- (Object) <strong>dispatch_motel_rjr_state</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_track-instance_method" title="#dispatch_motel_rjr_track (instance method)">- (Object) <strong>dispatch_motel_rjr_track</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_motel_rjr_update-instance_method" title="#dispatch_motel_rjr_update (instance method)">- (Object) <strong>dispatch_motel_rjr_update</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_stats_rjr_get-instance_method" title="#dispatch_stats_rjr_get (instance method)">- (Object) <strong>dispatch_stats_rjr_get</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_stats_rjr_init-instance_method" title="#dispatch_stats_rjr_init (instance method)">- (Object) <strong>dispatch_stats_rjr_init</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_stats_rjr_inspect-instance_method" title="#dispatch_stats_rjr_inspect (instance method)">- (Object) <strong>dispatch_stats_rjr_inspect</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>TODO</p>
<ul><li>
<p># of times stats retrieved.</p>
</li></ul>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_attribute-instance_method" title="#dispatch_users_rjr_attribute (instance method)">- (Object) <strong>dispatch_users_rjr_attribute</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_create-instance_method" title="#dispatch_users_rjr_create (instance method)">- (Object) <strong>dispatch_users_rjr_create</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_events-instance_method" title="#dispatch_users_rjr_events (instance method)">- (Object) <strong>dispatch_users_rjr_events</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_get-instance_method" title="#dispatch_users_rjr_get (instance method)">- (Object) <strong>dispatch_users_rjr_get</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_init-instance_method" title="#dispatch_users_rjr_init (instance method)">- (Object) <strong>dispatch_users_rjr_init</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_inspect-instance_method" title="#dispatch_users_rjr_inspect (instance method)">- (Object) <strong>dispatch_users_rjr_inspect</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_permissions-instance_method" title="#dispatch_users_rjr_permissions (instance method)">- (Object) <strong>dispatch_users_rjr_permissions</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_register-instance_method" title="#dispatch_users_rjr_register (instance method)">- (Object) <strong>dispatch_users_rjr_register</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_session-instance_method" title="#dispatch_users_rjr_session (instance method)">- (Object) <strong>dispatch_users_rjr_session</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_state-instance_method" title="#dispatch_users_rjr_state (instance method)">- (Object) <strong>dispatch_users_rjr_state</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatch_users_rjr_update-instance_method" title="#dispatch_users_rjr_update (instance method)">- (Object) <strong>dispatch_users_rjr_update</strong>(dispatcher) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>module Users::RJR.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="dispatch_cosmos_rjr_create-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_cosmos_rjr_create</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cosmos/rjr/create.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_cosmos_rjr_create'>dispatch_cosmos_rjr_create</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>CREATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos::create_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:create_entity</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_cosmos_rjr_get-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_cosmos_rjr_get</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Cosmos::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cosmos/rjr/get.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_cosmos_rjr_get'>dispatch_cosmos_rjr_get</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>GET_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos::get_entities</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos::get_entity</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                                                 <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_entities</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_cosmos_rjr_init-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_cosmos_rjr_init</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Dispatch init</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cosmos/rjr/init.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_cosmos_rjr_init'>dispatch_cosmos_rjr_init</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='comment'># setup Cosmos::RJR module
</span>  <span class='id identifier rubyid_rjr'>rjr</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>RJR</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span> <span class='op'>=</span> <span class='id identifier rubyid_dispatcher'>dispatcher</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>cosmos::.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>RJR</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos/rjr/create</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos/rjr/get</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos/rjr/resources</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos/rjr/state</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>source_node</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># create cosmos user
</span>  <span class='kw'>begin</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='semicolon'>;</span> <span class='kw'>end</span>

  <span class='comment'># grant cosmos user extra permissions
</span>  <span class='id identifier rubyid_role_id'>role_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_role_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>PRIVILEGES</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
     <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_role_id'>role_id</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
   <span class='rbrace'>}</span>

  <span class='comment'># log the cosmos user in
</span>  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::login</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>session_id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_cosmos_rjr_inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_cosmos_rjr_inspect</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TODO</p>
<ul><li>
<p>total # of entities and # of entities of each type</p>
</li><li>
<p>total # of resources</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


12
13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cosmos/rjr/inspect.rb', line 12</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_cosmos_rjr_inspect'>dispatch_cosmos_rjr_inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='comment'>#dispatcher.handle &quot;cosmos::status&quot; do
</span>  <span class='comment'>#  {
</span>  <span class='comment'>#  }
</span>  <span class='comment'>#end
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_cosmos_rjr_resources-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_cosmos_rjr_resources</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Cosmos::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cosmos/rjr/resources.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_cosmos_rjr_resources'>dispatch_cosmos_rjr_resources</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>RESOURCES_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos::set_resource</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>  <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:set_resource</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos::get_resource</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>  <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_resource</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cosmos::get_resources</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_resources</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_cosmos_rjr_state-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_cosmos_rjr_state</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/cosmos/rjr/state.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_cosmos_rjr_state'>dispatch_cosmos_rjr_state</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>STATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cosmos::save_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>    <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:save_state</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cosmos::restore_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:restore_state</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_admin-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_admin</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/admin.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_admin'>dispatch_manufactured_rjr_admin</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manufactured::admin::set</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='op'>&amp;</span><span class='const'>ADMIN_METHODS</span><span class='lbracket'>[</span><span class='symbol'>:set</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manufactured::admin::run_callbacks</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                     <span class='op'>&amp;</span><span class='const'>ADMIN_METHODS</span><span class='lbracket'>[</span><span class='symbol'>:run_callbacks</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_attack-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_attack</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Manufactured::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/attack.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_attack'>dispatch_manufactured_rjr_attack</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>ATTACK_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::attack_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:attack_entity</span><span class='rbracket'>]</span>
  <span class='comment'># dispatcher.handle(&#39;manufactured::stop_attack&#39;, &#39;TODO&#39;)
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_create-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_create</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/create.rb', line 187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_create'>dispatch_manufactured_rjr_create</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>CREATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::create_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>    <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:create_entity</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::construct_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:construct_entity</span><span class='rbracket'>]</span>

  <span class='comment'># register entity validation method w/ registry
</span>  <span class='kw'>unless</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_validation_methods'>validation_methods</span><span class='period'>.</span>
                           <span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:validate_user_attributes</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_validation_callback'>validation_callback</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:validate_user_attributes</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_dock-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_dock</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Manufactured::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/dock.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_dock'>dispatch_manufactured_rjr_dock</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>DOCK_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::dock</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>   <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:dock</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::undock</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:undock</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_events-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_events</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


239
240
241
242
243
244</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/events.rb', line 239</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_events'>dispatch_manufactured_rjr_events</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>EVENTS_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::subscribe_to</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>     <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:subscribe_to</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::remove_callbacks</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::unsubscribe</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                     <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:remove_callbacks</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_get-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_get</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/get.rb', line 60</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_get'>dispatch_manufactured_rjr_get</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>GET_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::get</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::get_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::get_entities</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                      <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_entities</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_init-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_init</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Dispatch init</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/init.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_init'>dispatch_manufactured_rjr_init</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
  <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span>

  <span class='comment'># setup Manufactured::RJR module
</span>  <span class='id identifier rubyid_rjr'>rjr</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span> <span class='op'>=</span> <span class='id identifier rubyid_dispatcher'>dispatcher</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>manufactured::.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/create</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/get</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/state</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/events</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/resources</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/movement</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/dock</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/mining</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/attack</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured/rjr/loot</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>source_node</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># create manufactured user
</span>  <span class='kw'>begin</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='semicolon'>;</span> <span class='kw'>end</span>

  <span class='comment'># grant manufactured user extra permanufactured
</span>  <span class='id identifier rubyid_role_id'>role_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_role_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>PRIVILEGES</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
     <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_role_id'>role_id</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
   <span class='rbrace'>}</span>

  <span class='comment'># log the manufactured user in
</span>  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::login</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>session_id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>

  <span class='comment'># add callback for motel events, override environment it runs in
</span>  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>CALLBACK_METHODS</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::on_movement</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::on_rotation</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                             <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:motel_event</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::on_movement</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::on_rotation</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                          <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_inspect</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/inspect.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_inspect'>dispatch_manufactured_rjr_inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>INSPECT_METHODS</span>

  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manufactured::command</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_cmd</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manufactured::status</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_status</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_loot-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_loot</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Manufactured::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/loot.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_loot'>dispatch_manufactured_rjr_loot</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>LOOT_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::collect_loot</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:collect_loot</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_mining-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_mining</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Manufactured::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/mining.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_mining'>dispatch_manufactured_rjr_mining</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>MINING_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::start_mining</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:start_mining</span><span class='rbracket'>]</span>
  <span class='comment'># dispatcher.handle(&#39;manufactured::stop_mining&#39;, &#39;TODO&#39;)
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_movement-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_movement</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Manufactured::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/movement.rb', line 267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_movement'>dispatch_manufactured_rjr_movement</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>MOVEMENT_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::move_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>   <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:move_entity</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::follow_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:follow_entity</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::stop_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>   <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:stop_entity</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_resources-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_resources</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Manufactured::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/resources.rb', line 120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_resources'>dispatch_manufactured_rjr_resources</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>RESOURCES_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::add_resource</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>      <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:add_resource</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::transfer_resource</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:transfer_resource</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_manufactured_rjr_state-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_manufactured_rjr_state</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/rjr/state.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_manufactured_rjr_state'>dispatch_manufactured_rjr_state</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>STATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manufactured::save_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>    <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:save_state</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>manufactured::restore_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:restore_state</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_missions_rjr_assign-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_missions_rjr_assign</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


83
84
85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/missions/rjr/assign.rb', line 83</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_missions_rjr_assign'>dispatch_missions_rjr_assign</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>ASSIGN_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions::assign_mission</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:assign_mission</span><span class='rbracket'>]</span>
  <span class='comment'>#dispatcher.handle(&#39;missions::unassign_mission&#39;, &#39;...&#39; # TODO ?
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_missions_rjr_create-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_missions_rjr_create</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Missions::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/missions/rjr/create.rb', line 64</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_missions_rjr_create'>dispatch_missions_rjr_create</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>CREATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions::create_event</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>   <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:create_event</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions::create_mission</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:create_mission</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_missions_rjr_get-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_missions_rjr_get</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Missions::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/missions/rjr/get.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_missions_rjr_get'>dispatch_missions_rjr_get</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>GET_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions::get_missions</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions::get_mission</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                                                       <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_missions</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_missions_rjr_hooks-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_missions_rjr_hooks</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Missions::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/missions/rjr/hooks.rb', line 37</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_missions_rjr_hooks'>dispatch_missions_rjr_hooks</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>HOOKS_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions::add_hook</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:add_hook</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_missions_rjr_init-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_missions_rjr_init</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Dispatch init</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/missions/rjr/init.rb', line 121</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_missions_rjr_init'>dispatch_missions_rjr_init</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>

  <span class='comment'># setup Missions::RJR module
</span>  <span class='id identifier rubyid_rjr'>rjr</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span> <span class='op'>=</span> <span class='id identifier rubyid_dispatcher'>dispatcher</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>missions::.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions/rjr/create</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions/rjr/get</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions/rjr/assign</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions/rjr/hooks</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions/rjr/state</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>source_node</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missions</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># create missions user
</span>  <span class='kw'>begin</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='semicolon'>;</span> <span class='kw'>end</span>

  <span class='comment'># grant missions user extra permissions
</span>  <span class='comment'># all in all missions is a pretty powerful role/user in terms
</span>  <span class='comment'>#  of what it can do w/ the simulation
</span>  <span class='id identifier rubyid_role_id'>role_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_role_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>PRIVILEGES</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
     <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_role_id'>role_id</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
   <span class='rbrace'>}</span>

  <span class='comment'># log the missions user in
</span>  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::login</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>session_id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>

  <span class='comment'># add callback for manufactured events, override environment it runs in
</span>  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>CALLBACK_METHODS</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::event_occurred</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:manufactured_event</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>manufactured::event_occurred</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span>

  <span class='comment'># add callback for users events, subscribe to registered_user event
</span>  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::event_occurred</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:users_event</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::event_occurred</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::subscribe_to</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>registered_user</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_missions_rjr_inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_missions_rjr_inspect</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/missions/rjr/inspect.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_missions_rjr_inspect'>dispatch_missions_rjr_inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>INSPECT_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>missions::status</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_status</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_missions_rjr_state-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_missions_rjr_state</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/missions/rjr/state.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_missions_rjr_state'>dispatch_missions_rjr_state</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Missions</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>STATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>missions::save_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>    <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:save_state</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>missions::restore_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:restore_state</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_create-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_create</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/create.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_create'>dispatch_motel_rjr_create</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>CREATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::create_location</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:create_location</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_delete-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_delete</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/delete.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_delete'>dispatch_motel_rjr_delete</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>DELETE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::delete_location</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:delete_location</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_get-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_get</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/get.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_get'>dispatch_motel_rjr_get</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>GET_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::get_location</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::get_locations</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                                                  <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_location</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_init-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_init</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40
41
42
43
44
45
46
47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/init.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_init'>dispatch_motel_rjr_init</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>

  <span class='comment'># run motel method handlers in motel::rjr module
</span>  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>motel::.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel/rjr/create</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel/rjr/get</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel/rjr/update</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel/rjr/delete</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel/rjr/track</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel/rjr/state</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_inspect</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/inspect.rb', line 36</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_inspect'>dispatch_motel_rjr_inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>INSPECT_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>motel::status</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_status</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_state-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_state</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/state.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_state'>dispatch_motel_rjr_state</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>STATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>motel::save_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>    <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:save_state</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>motel::restore_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:restore_state</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_track-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_track</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214
215
216
217
218
219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/track.rb', line 212</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_track'>dispatch_motel_rjr_track</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>TRACK_METHODS</span>
  <span class='id identifier rubyid_track_methods'>track_methods</span> <span class='op'>=</span>
    <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::track_movement</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::track_rotation</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::track_proximity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::track_stops</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::track_strategy</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='id identifier rubyid_track_methods'>track_methods</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:track_handler</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>motel::remove_callbacks</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:remove_callbacks</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_motel_rjr_update-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_motel_rjr_update</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45
46</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/motel/rjr/update.rb', line 43</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_motel_rjr_update'>dispatch_motel_rjr_update</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Motel</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>UPDATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>motel::update_location</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:update_location</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_stats_rjr_get-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_stats_rjr_get</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stats/rjr/get.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_stats_rjr_get'>dispatch_stats_rjr_get</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Stats</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>GET_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stats::get</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_stats</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_stats_rjr_init-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_stats_rjr_init</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stats/rjr/init.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_stats_rjr_init'>dispatch_stats_rjr_init</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='comment'># setup Stats::RJR module
</span>  <span class='id identifier rubyid_rjr'>rjr</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>Stats</span><span class='op'>::</span><span class='const'>RJR</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span> <span class='op'>=</span> <span class='id identifier rubyid_dispatcher'>dispatcher</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>stats::.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>Stats</span><span class='op'>::</span><span class='const'>RJR</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stats/rjr/get</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>source_node</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stats</span><span class='tstring_end'>&#39;</span></span>

  <span class='kw'>begin</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='semicolon'>;</span> <span class='kw'>end</span>

  <span class='comment'># grant stats user extra permissions
</span>  <span class='id identifier rubyid_role_id'>role_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_role_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>Stats</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>PRIVILEGES</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_p'>p</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='op'>|</span>
     <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_role_id'>role_id</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
   <span class='rbrace'>}</span>

  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::login</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>session_id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_stats_rjr_inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_stats_rjr_inspect</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>TODO</p>
<ul><li>
<p># of times stats retrieved</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13
14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/stats/rjr/inspect.rb', line 11</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_stats_rjr_inspect'>dispatch_stats_rjr_inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='comment'>#dispatcher.handle &quot;stats::status&quot; do
</span>  <span class='comment'>#  {
</span>  <span class='comment'>#  }
</span>  <span class='comment'>#end
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_attribute-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_attribute</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77
78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/attribute.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_attribute'>dispatch_users_rjr_attribute</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>ATTRIBUTE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::update_attribute</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:update_attribute</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::has_attribute?</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>   <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:has_attribute</span><span class='rbracket'>]</span>

  <span class='comment'># TODO allow client to subscribe to attribute changes
</span>  <span class='comment'># dispatcher.handle(&#39;users::subscribe_to_progression&#39;) ...
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_create-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_create</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/create.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_create'>dispatch_users_rjr_create</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>CREATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:create_user</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_role</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:create_role</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_events-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_events</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


94
95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/events.rb', line 94</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_events'>dispatch_users_rjr_events</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>EVENTS_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::subscribe_to</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>     <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:subscribe_to</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::unsubscribe</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>       <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:unsubscribe</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_get-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_get</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/get.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_get'>dispatch_users_rjr_get</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>GET_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::get_entity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::get_entities</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                                               <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_entities</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_init-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_init</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/init.rb', line 101</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_init'>dispatch_users_rjr_init</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>

  <span class='comment'># init defaults
</span>  <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='period'>.</span><span class='id identifier rubyid_permenant_users'>permenant_users</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='comment'># setup Users::RJR module
</span>  <span class='id identifier rubyid_rjr'>rjr</span> <span class='op'>=</span> <span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_extend'>extend</span><span class='lparen'>(</span><span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span> <span class='op'>=</span> <span class='id identifier rubyid_dispatcher'>dispatcher</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>users::.*</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/create</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/get</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/update</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/permissions</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/register</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/session</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/attribute</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/events</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_add_module'>add_module</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users/rjr/state</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>source_node</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># ignore err if user already created
</span>  <span class='kw'>begin</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='semicolon'>;</span> <span class='kw'>end</span>

  <span class='id identifier rubyid_session'>session</span> <span class='op'>=</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::login</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_message_headers'>message_headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>session_id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_session'>session</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>

  <span class='comment'># create configured users w/ configured permissions
</span>  <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='id identifier rubyid_additional_users'>additional_users</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_user'>user</span><span class='op'>|</span>
    <span class='id identifier rubyid_nuser'>nuser</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_user'>user</span><span class='lbracket'>[</span><span class='symbol'>:user_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
                            <span class='symbol'>:password</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_user'>user</span><span class='lbracket'>[</span><span class='symbol'>:password</span><span class='rbracket'>]</span><span class='comma'>,</span>
                            <span class='symbol'>:registration_code</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span>
    <span class='kw'>begin</span> <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::create_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_nuser'>nuser</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span> <span class='semicolon'>;</span> <span class='kw'>end</span>

    <span class='id identifier rubyid_role_id'>role_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>user_role_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_nuser'>nuser</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_user'>user</span><span class='lbracket'>[</span><span class='symbol'>:permissions</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_permission_entity'>permission_entity</span><span class='op'>|</span>
      <span class='id identifier rubyid_permission'>permission</span> <span class='op'>=</span> <span class='id identifier rubyid_permission_entity'>permission_entity</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_entity'>entity</span>     <span class='op'>=</span> <span class='id identifier rubyid_permission_entity'>permission_entity</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid_permission_entity'>permission_entity</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='kw'>nil</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_role_id'>role_id</span><span class='comma'>,</span> <span class='id identifier rubyid_permission'>permission</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_rjr'>rjr</span><span class='period'>.</span><span class='id identifier rubyid_node'>node</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_role_id'>role_id</span><span class='comma'>,</span> <span class='id identifier rubyid_permission'>permission</span><span class='comma'>,</span> <span class='id identifier rubyid_entity'>entity</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span><span class='lbracket'>[</span><span class='symbol'>:permissions</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='id identifier rubyid_additional_users'>additional_users</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_inspect-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_inspect</strong>(dispatcher) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/inspect.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_inspect'>dispatch_users_rjr_inspect</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>INSPECT_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>users::status</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:get_status</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_permissions-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_permissions</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


119
120
121
122
123
124
125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/permissions.rb', line 119</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_permissions'>dispatch_users_rjr_permissions</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>PERMISSION_METHODS</span>

  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_role</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:add_role</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::remove_role</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:remove_role</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::add_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:add_privilege</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::remove_privilege</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:remove_privilege</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_register-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_register</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/register.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_register'>dispatch_users_rjr_register</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>REGISTER_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::register</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>         <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:register</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::confirm_register</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:confirm_register</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_session-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_session</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/session.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_session'>dispatch_users_rjr_session</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>SESSION_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::login</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>  <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:login</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::logout</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:logout</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_state-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_state</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/state.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_state'>dispatch_users_rjr_state</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>STATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>users::save_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>    <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:save_state</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>users::restore_state</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:restore_state</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispatch_users_rjr_update-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatch_users_rjr_update</strong>(dispatcher) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>module Users::RJR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/users/rjr/update.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatch_users_rjr_update'>dispatch_users_rjr_update</span><span class='lparen'>(</span><span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='const'>Users</span><span class='op'>::</span><span class='const'>RJR</span><span class='op'>::</span><span class='const'>UPDATE_METHODS</span>
  <span class='id identifier rubyid_dispatcher'>dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_handle'>handle</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>users::update_user</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_m'>m</span><span class='lbracket'>[</span><span class='symbol'>:update_user</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Feb 21 16:44:31 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>