<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Manufactured::Station
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Manufactured.html" title="Manufactured (module)">Manufactured</a></span></span>
     &raquo; 
    <span class="title">Station</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Manufactured::Station
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Manufactured::Station</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Entity/HasCargo.html" title="Manufactured::Entity::HasCargo (module)">Entity::HasCargo</a></span>, <span class='object_link'><a href="Entity/InSystem.html" title="Manufactured::Entity::InSystem (module)">Entity::InSystem</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/manufactured/station.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A player owned entity residing in a <span class='object_link'><a href="../Cosmos/Entities/SolarSystem.html" title="Cosmos::Entities::SolarSystem (class)">Cosmos::Entities::SolarSystem</a></span>. They
can move inbetween systems on their own without requiring a
<span class='object_link'><a href="../Cosmos/Entities/JumpGate.html" title="Cosmos::Entities::JumpGate (class)">Cosmos::Entities::JumpGate</a></span>. May construct other manufactured entities
depending on the station type.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="TYPES-constant" class="">TYPES =
          <div class="docstring">
  <div class="discussion">
    
<p>General station classification, used to determine a station&#39;s
capabilities</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:defense</span><span class='comma'>,</span> <span class='symbol'>:offense</span><span class='comma'>,</span> <span class='symbol'>:mining</span><span class='comma'>,</span> <span class='symbol'>:exploration</span><span class='comma'>,</span> <span class='symbol'>:science</span><span class='comma'>,</span>
<span class='symbol'>:technology</span><span class='comma'>,</span> <span class='symbol'>:manufacturing</span><span class='comma'>,</span> <span class='symbol'>:commerce</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="SIZES-constant" class="">SIZES =
          <div class="docstring">
  <div class="discussion">
    
<p>Mapping of station types to default sizes</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='symbol'>:defense</span> <span class='op'>=&gt;</span> <span class='int'>35</span><span class='comma'>,</span> <span class='symbol'>:offense</span> <span class='op'>=&gt;</span> <span class='int'>35</span><span class='comma'>,</span> <span class='symbol'>:mining</span> <span class='op'>=&gt;</span> <span class='int'>27</span><span class='comma'>,</span>
<span class='symbol'>:exploration</span> <span class='op'>=&gt;</span> <span class='int'>20</span><span class='comma'>,</span> <span class='symbol'>:science</span> <span class='op'>=&gt;</span> <span class='int'>20</span><span class='comma'>,</span>
<span class='symbol'>:technology</span> <span class='op'>=&gt;</span> <span class='int'>20</span><span class='comma'>,</span> <span class='symbol'>:manufacturing</span> <span class='op'>=&gt;</span> <span class='int'>40</span><span class='comma'>,</span>
<span class='symbol'>:commerce</span> <span class='op'>=&gt;</span> <span class='int'>30</span><span class='rbrace'>}</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#callbacks-instance_method" title="#callbacks (instance method)">- (Object) <strong>callbacks</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Array of callbacks to invoke on certain events relating to ship.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#construction_distance-instance_method" title="#construction_distance (instance method)">- (Object) <strong>construction_distance</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Distance away from the station which new entities are constructed.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#docking_distance-instance_method" title="#docking_distance (instance method)">- (Object) <strong>docking_distance</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Max distance a ship can be from station to dock with it.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">- (Object) <strong>id</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Unique string id of the station.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-instance_method" title="#size (instance method)">- (Object) <strong>size</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Size of the station.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#type-instance_method" title="#type (instance method)">- (Object) <strong>type</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><dl class="rdoc-list label-list"><dt>TYPE
<dd>
<p>General category / classification of station.</p>
</dd></dl>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#user_id-instance_method" title="#user_id (instance method)">- (Object) <strong>user_id</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>ID of user which station belongs to.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Entity/HasCargo.html" title="Manufactured::Entity::HasCargo (module)">Entity::HasCargo</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Entity/HasCargo.html#cargo_capacity-instance_method" title="Manufactured::Entity::HasCargo#cargo_capacity (method)">#cargo_capacity</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#resources-instance_method" title="Manufactured::Entity::HasCargo#resources (method)">#resources</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#transfer_distance-instance_method" title="Manufactured::Entity::HasCargo#transfer_distance (method)">#transfer_distance</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Entity/InSystem.html" title="Manufactured::Entity::InSystem (module)">Entity::InSystem</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Entity/InSystem.html#location-instance_method" title="Manufactured::Entity::InSystem#location (method)">#location</a></span>, <span class='object_link'><a href="Entity/InSystem.html#solar_system-instance_method" title="Manufactured::Entity::InSystem#solar_system (method)">#solar_system</a></span>, <span class='object_link'><a href="Entity/InSystem.html#system_id-instance_method" title="Manufactured::Entity::InSystem#system_id (method)">#system_id</a></span></p>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#construction_cost-class_method" title="construction_cost (class method)">+ (Integer) <strong>construction_cost</strong>(type) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the cost to construct a station of the specified type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#construction_time-class_method" title="construction_time (class method)">+ (Float) <strong>construction_time</strong>(type) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return the time (in seconds) to construct a station of the specified type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#json_create-class_method" title="json_create (class method)">+ (Object) <strong>json_create</strong>(o) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create new station from json representation.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#alive%3F-instance_method" title="#alive? (instance method)">- (Boolean) <strong>alive?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Just for compatability for now, always return true.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_construct%3F-instance_method" title="#can_construct? (instance method)">- (true, false) <strong>can_construct?</strong>(args = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return true / false indiciating if station can construct entity specified
by args.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#construct-instance_method" title="#construct (instance method)">- (Object) <strong>construct</strong>(args = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Use this station to construct new manufactured entities.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dockable%3F-instance_method" title="#dockable? (instance method)">- (true, false) <strong>dockable?</strong>(ship) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return true / false indicating station permits specified ship to dock.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Station) <strong>initialize</strong>(args = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Station initializer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_callbacks-instance_method" title="#remove_callbacks (instance method)">- (Object) <strong>remove_callbacks</strong>(args = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Remove callbacks matching the specified args.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_callbacks-instance_method" title="#run_callbacks (instance method)">- (Object) <strong>run_callbacks</strong>(type, *args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Run callbacks.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_json-instance_method" title="#to_json (instance method)">- (Object) <strong>to_json</strong>(*a) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Convert station to json representation and return it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Convert station to human readable string and return it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">- (Object) <strong>update</strong>(station) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Update this station&#39;s attributes from other station.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid%3F-instance_method" title="#valid? (instance method)">- (Boolean) <strong>valid?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return boolean indicating if this station is valid.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Entity/HasCargo.html" title="Manufactured::Entity::HasCargo (module)">Entity::HasCargo</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Entity/HasCargo.html#add_resource-instance_method" title="Manufactured::Entity::HasCargo#add_resource (method)">#add_resource</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#can_accept%3F-instance_method" title="Manufactured::Entity::HasCargo#can_accept? (method)">#can_accept?</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#can_transfer%3F-instance_method" title="Manufactured::Entity::HasCargo#can_transfer? (method)">#can_transfer?</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#cargo_empty%3F-instance_method" title="Manufactured::Entity::HasCargo#cargo_empty? (method)">#cargo_empty?</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#cargo_full%3F-instance_method" title="Manufactured::Entity::HasCargo#cargo_full? (method)">#cargo_full?</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#cargo_quantity-instance_method" title="Manufactured::Entity::HasCargo#cargo_quantity (method)">#cargo_quantity</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#cargo_space-instance_method" title="Manufactured::Entity::HasCargo#cargo_space (method)">#cargo_space</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#remove_resource-instance_method" title="Manufactured::Entity::HasCargo#remove_resource (method)">#remove_resource</a></span>, <span class='object_link'><a href="Entity/HasCargo.html#resources_valid%3F-instance_method" title="Manufactured::Entity::HasCargo#resources_valid? (method)">#resources_valid?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Entity/InSystem.html" title="Manufactured::Entity::InSystem (module)">Entity::InSystem</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Entity/InSystem.html#movement_strategy-instance_method" title="Manufactured::Entity::InSystem#movement_strategy (method)">#movement_strategy</a></span>, <span class='object_link'><a href="Entity/InSystem.html#movement_strategy%3D-instance_method" title="Manufactured::Entity::InSystem#movement_strategy= (method)">#movement_strategy=</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Manufactured::Station (class)">Station</a></span></tt>) <strong>initialize</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Station initializer</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>hash of options to initialize attack command with</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:id,'id'</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>id to assign to the station</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:user_id,'user_id'</span>
          <span class="type">(<tt><span class='object_link'><a href="../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>id of user that owns the station</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:type,'type'</span>
          <span class="type">(<tt>TYPE</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>type to assign to station, if not set a random type will be assigned</p>
</div>
          
        </li>
      
        <li>
          <span class="name">Hash<Symbol,Array<String>]</span>
          <span class="type">(<tt>Hash&lt;Symbol,<span class='object_link'><a href="../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>&gt;] :errors</tt>, <tt>'errors' operation errors to set on station</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>:errors,&#39;errors&#39; operation errors to set on station</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:resources,'resources'</span>
          <span class="type">(<tt>Hash&lt;<span class='object_link'><a href="../String.html" title="String (class)">String</a></span>,Int&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>hash of resource ids to quantities contained in the station</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:solar_system,'solar_system'</span>
          <span class="type">(<tt><span class='object_link'><a href="../Cosmos/Entities/SolarSystem.html" title="Cosmos::Entities::SolarSystem (class)">Cosmos::Entities::SolarSystem</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>solar system which the station is in</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:location,'location'</span>
          <span class="type">(<tt><span class='object_link'><a href="../Motel/Location.html" title="Motel::Location (class)">Motel::Location</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>location of the station in the solar system</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:location</span><span class='rbracket'>]</span> <span class='op'>=</span>
    <span class='const'>Motel</span><span class='op'>::</span><span class='const'>Location</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='symbol'>:coordinates</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span>
                        <span class='symbol'>:orientation</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rbracket'>]</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:location</span><span class='rparen'>)</span> <span class='op'>||</span>
                                                        <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>location</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>


  <span class='id identifier rubyid_attr_from_args'>attr_from_args</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='symbol'>:id</span>                   <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='symbol'>:user_id</span>              <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='symbol'>:type</span>                 <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='symbol'>:callbacks</span>            <span class='op'>=&gt;</span>  <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
                       <span class='symbol'>:resources</span>            <span class='op'>=&gt;</span>  <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span>
                       <span class='symbol'>:location</span>             <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='symbol'>:system_id</span>            <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='symbol'>:solar_system</span>         <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='symbol'>:docking_distance</span>     <span class='op'>=&gt;</span> <span class='int'>200</span><span class='comma'>,</span>
                       <span class='symbol'>:transfer_distance</span>    <span class='op'>=&gt;</span> <span class='int'>200</span><span class='comma'>,</span>
                       <span class='symbol'>:construction_distance</span><span class='op'>=&gt;</span> <span class='int'>300</span><span class='comma'>,</span>
                       <span class='symbol'>:cargo_capacity</span>       <span class='op'>=&gt;</span> <span class='int'>10000</span>

  <span class='ivar'>@location</span><span class='period'>.</span><span class='id identifier rubyid_orientation'>orientation</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='ivar'>@location</span><span class='period'>.</span><span class='id identifier rubyid_orientation'>orientation</span> <span class='op'>==</span> <span class='lbracket'>[</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rbracket'>]</span>

<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="callbacks=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="callbacks-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>callbacks</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Array of callbacks to invoke on certain events relating to ship</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_callbacks'>callbacks</span>
  <span class='ivar'>@callbacks</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="construction_distance=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="construction_distance-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>construction_distance</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Distance away from the station which new entities are constructed</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_construction_distance'>construction_distance</span>
  <span class='ivar'>@construction_distance</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="docking_distance=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="docking_distance-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>docking_distance</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Max distance a ship can be from station to dock with it</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 62</span>

<span class='kw'>def</span> <span class='id identifier rubyid_docking_distance'>docking_distance</span>
  <span class='ivar'>@docking_distance</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="id=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Unique string id of the station</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='ivar'>@id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="size=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="size-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>size</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Size of the station</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_size'>size</span>
  <span class='ivar'>@size</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="type=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="type-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>type</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <dl class="rdoc-list label-list"><dt>TYPE
<dd>
<p>General category / classification of station</p>
</dd></dl>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


30
31
32</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 30</span>

<span class='kw'>def</span> <span class='id identifier rubyid_type'>type</span>
  <span class='ivar'>@type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="user_id=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="user_id-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>user_id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>ID of user which station belongs to</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_user_id'>user_id</span>
  <span class='ivar'>@user_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="construction_cost-class_method">
  
    + (<tt>Integer</tt>) <strong>construction_cost</strong>(type) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the cost to construct a station of the specified type</p>

<p>TODO right now just return a fixed cost for every station, eventually make
more variable</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>TYPE</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>type of station which to return construction cost</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>quantity of resources required to construct station</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 87</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_construction_cost'>construction_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='int'>100</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="construction_time-class_method">
  
    + (<tt><span class='object_link'><a href="../Float.html" title="Float (class)">Float</a></span></tt>) <strong>construction_time</strong>(type) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return the time (in seconds) to construct a station of the specified type</p>

<p>TODO right now just return a fixed time for every station, eventually make
more variable</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>TYPE</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>type of station which to return construction time</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Float.html" title="Float (class)">Float</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>seconds which it takes to construct the station</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 97</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_construction_time'>construction_time</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='int'>10</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="json_create-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>json_create</strong>(o) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create new station from json representation</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 281</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_json_create'>json_create</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_station'>station</span> <span class='op'>=</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>data</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_station'>station</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="alive?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>alive?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Just for compatability for now, always return true</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 178</span>

<span class='kw'>def</span> <span class='id identifier rubyid_alive?'>alive?</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_construct?-instance_method">
  
    - (<tt>true</tt>, <tt>false</tt>) <strong>can_construct?</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return true / false indiciating if station can construct entity specified
by args.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>args which will be passed to <span class='object_link'><a href="#construct-instance_method" title="Manufactured::Station#construct (method)">#construct</a></span> to construct entity</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicating if station can construct entity</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_can_construct?'>can_construct?</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@type</span> <span class='op'>==</span> <span class='symbol'>:manufacturing</span> <span class='op'>&amp;&amp;</span>

  <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ship</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Station</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:entity_type</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>

  <span class='id identifier rubyid_cargo_quantity'>cargo_quantity</span> <span class='op'>&gt;=</span>
    <span class='const'>Manufactured</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:entity_type</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span>
                 <span class='id identifier rubyid_construction_cost'>construction_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="construct-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>construct</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Use this station to construct new manufactured entities.</p>

<p>Sets up the entity in the correct context, including the right location
properties and verifies its validitiy before deducting resources necessary
to construct and instanting new entity.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>hash of options to pass to new entity being initialized</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>new entity created, nil otherwise</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 215</span>

<span class='kw'>def</span> <span class='id identifier rubyid_construct'>construct</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='comment'># return if we can&#39;t construct
</span>  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_can_construct?'>can_construct?</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>

  <span class='comment'># grab handle to entity class &amp; generate construction cost
</span>  <span class='id identifier rubyid_eclass'>eclass</span> <span class='op'>=</span> <span class='const'>Manufactured</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:entity_type</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ecost'>ecost</span>  <span class='op'>=</span> <span class='id identifier rubyid_eclass'>eclass</span><span class='period'>.</span><span class='id identifier rubyid_construction_cost'>construction_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>

  <span class='comment'># remove resources from the station
</span>  <span class='comment'># TODO map entities to specific construction requirements
</span>  <span class='id identifier rubyid_remaining'>remaining</span> <span class='op'>=</span> <span class='id identifier rubyid_ecost'>ecost</span>
  <span class='ivar'>@resources</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_quantity'>quantity</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_remaining'>remaining</span>
      <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_quantity'>quantity</span> <span class='op'>-=</span> <span class='id identifier rubyid_remaining'>remaining</span>
      <span class='kw'>break</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_remaining'>remaining</span> <span class='op'>-=</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_quantity'>quantity</span>
      <span class='ivar'>@resources</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_r'>r</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>

  <span class='comment'># instantiate the new entity
</span>  <span class='id identifier rubyid_entity'>entity</span> <span class='op'>=</span> <span class='id identifier rubyid_eclass'>eclass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='id identifier rubyid_args'>args</span>
  <span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span>

  <span class='comment'># setup location
</span>  <span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_parent'>parent</span>

  <span class='comment'># allow user to specify coordinates unless too far away
</span>  <span class='comment'># in which case, construct at closest location to specified
</span>  <span class='comment'># location withing construction distance
</span>  <span class='id identifier rubyid_distance'>distance</span> <span class='op'>=</span> <span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_distance'>distance</span> <span class='op'>&gt;</span> <span class='ivar'>@construction_distance</span>
    <span class='id identifier rubyid_dx'>dx</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_distance'>distance</span>
    <span class='id identifier rubyid_dy'>dy</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_distance'>distance</span>
    <span class='id identifier rubyid_dz'>dz</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_z'>z</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_z'>z</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_distance'>distance</span>
    <span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='id identifier rubyid_dx'>dx</span> <span class='op'>*</span> <span class='ivar'>@construction_distance</span>
    <span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>+</span> <span class='id identifier rubyid_dy'>dy</span> <span class='op'>*</span> <span class='ivar'>@construction_distance</span>
    <span class='id identifier rubyid_entity'>entity</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_z'>z</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_z'>z</span> <span class='op'>+</span> <span class='id identifier rubyid_dz'>dz</span> <span class='op'>*</span> <span class='ivar'>@construction_distance</span>
  <span class='kw'>end</span>
  <span class='comment'># TODO introduce optional random element that can be added to entity location ?
</span>
  <span class='id identifier rubyid_entity'>entity</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dockable?-instance_method">
  
    - (<tt>true</tt>, <tt>false</tt>) <strong>dockable?</strong>(ship) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return true / false indicating station permits specified ship to dock</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ship</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Ship.html" title="Manufactured::Ship (class)">Manufactured::Ship</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>ship which to give or deny docking clearance</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>indicating if ship is allowed to dock at station</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 186</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dockable?'>dockable?</span><span class='lparen'>(</span><span class='id identifier rubyid_ship'>ship</span><span class='rparen'>)</span>
  <span class='comment'># TODO incorporate # of ports
</span>  <span class='lparen'>(</span><span class='id identifier rubyid_ship'>ship</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_parent_id'>parent_id</span> <span class='op'>==</span> <span class='ivar'>@location</span><span class='period'>.</span><span class='id identifier rubyid_parent_id'>parent_id</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
  <span class='lparen'>(</span><span class='id identifier rubyid_ship'>ship</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span> <span class='op'>-</span> <span class='ivar'>@location</span><span class='rparen'>)</span> <span class='op'>&lt;=</span> <span class='ivar'>@docking_distance</span> <span class='op'>&amp;&amp;</span>
  <span class='op'>!</span><span class='id identifier rubyid_ship'>ship</span><span class='period'>.</span><span class='id identifier rubyid_docked?'>docked?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_callbacks-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_callbacks</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Remove callbacks matching the specified args</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 54</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_callbacks'>remove_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@callbacks</span><span class='period'>.</span><span class='id identifier rubyid_reject!'>reject!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_cb'>cb</span><span class='op'>|</span>
    <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:event_type</span><span class='rparen'>)</span>  <span class='op'>||</span> <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_event_type'>event_type</span>  <span class='op'>==</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:event_type</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
    <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:endpoint_id</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_cb'>cb</span><span class='period'>.</span><span class='id identifier rubyid_endpoint_id'>endpoint_id</span> <span class='op'>==</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:endpoint_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_callbacks-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>run_callbacks</strong>(type, *args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Run callbacks</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_callbacks'>run_callbacks</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='ivar'>@callbacks</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_event_type'>event_type</span> <span class='op'>==</span> <span class='id identifier rubyid_type'>type</span> <span class='rbrace'>}</span><span class='period'>.</span>
             <span class='id identifier rubyid_each'>each</span>   <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_json-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_json</strong>(*a) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Convert station to json representation and return it</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


266
267
268
269
270
271
272
273
274
275
276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 266</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_json'>to_json</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
  <span class='lbrace'>{</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>json_class</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>data</span><span class='tstring_end'>&#39;</span></span>       <span class='op'>=&gt;</span>
      <span class='lbrace'>{</span><span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbol'>:user_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_user_id'>user_id</span><span class='comma'>,</span>
       <span class='symbol'>:type</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='symbol'>:size</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_size'>size</span><span class='comma'>,</span>
       <span class='symbol'>:cargo_capacity</span> <span class='op'>=&gt;</span> <span class='ivar'>@cargo_capacity</span><span class='comma'>,</span>
       <span class='symbol'>:docking_distance</span> <span class='op'>=&gt;</span> <span class='ivar'>@docking_distance</span><span class='comma'>,</span>
       <span class='symbol'>:location</span> <span class='op'>=&gt;</span> <span class='ivar'>@location</span><span class='comma'>,</span>
       <span class='symbol'>:system_id</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='ivar'>@solar_system</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='ivar'>@system_id</span> <span class='op'>:</span> <span class='ivar'>@solar_system</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='symbol'>:resources</span> <span class='op'>=&gt;</span> <span class='ivar'>@resources</span><span class='rbrace'>}</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to_s</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Convert station to human readable string and return it</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 261</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>station-</span><span class='embexpr_beg'>#{</span><span class='ivar'>@id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>update</strong>(station) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Update this station&#39;s attributes from other station</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>station</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Manufactured::Station (class)">Manufactured::Station</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>station from which to copy values from</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 137</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='id identifier rubyid_station'>station</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_update_from'>update_from</span><span class='lparen'>(</span><span class='id identifier rubyid_station'>station</span><span class='comma'>,</span> <span class='symbol'>:location</span><span class='comma'>,</span> <span class='symbol'>:resources</span><span class='comma'>,</span> <span class='symbol'>:solar_system</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>valid?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return boolean indicating if this station is valid</p>

<p>Tests the various attributes of the Station, returning true if everything
is consistent, else false.</p>

<p>Current tests</p>
<ul><li>
<p>id is set to a valid (non-empty) string</p>
</li><li>
<p>location is set to a Motel::Location</p>
</li><li>
<p>user id is set to a string</p>
</li><li>
<p>type is one of valid TYPES</p>
</li><li>
<p>size corresponds to the correct value for type</p>
</li><li>
<p>solar system is set to Cosmos::Entities::SolarSystem</p>
</li><li>
<p>resources is a list of resources</p>
</li></ul>

<p>At a minimum the following should be set on the default station to be
valid:</p>
<ul><li>
<p>id</p>
</li><li>
<p>user_id</p>
</li><li>
<p>solar_system</p>
</li><li>
<p>type</p>
</li></ul>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163
164
165
166
167
168
169
170
171
172
173
174
175</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/manufactured/station.rb', line 161</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid?'>valid?</span>
  <span class='op'>!</span><span class='ivar'>@id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@id</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@id</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>&amp;&amp;</span>
  <span class='op'>!</span><span class='ivar'>@user_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@user_id</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>

  <span class='op'>!</span><span class='ivar'>@location</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@location</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Motel</span><span class='op'>::</span><span class='const'>Location</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
  <span class='op'>!</span><span class='ivar'>@system_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span>
  <span class='lparen'>(</span><span class='ivar'>@solar_system</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='ivar'>@solar_system</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Cosmos</span><span class='op'>::</span><span class='const'>Entities</span><span class='op'>::</span><span class='const'>SolarSystem</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>

  <span class='op'>!</span><span class='ivar'>@type</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='const'>TYPES</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@type</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
  <span class='op'>!</span><span class='ivar'>@size</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@size</span> <span class='op'>==</span> <span class='const'>SIZES</span><span class='lbracket'>[</span><span class='ivar'>@type</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_resources_valid?'>resources_valid?</span>

  <span class='comment'># TODO validate cargo properties when they become variable
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Feb 21 16:44:37 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>