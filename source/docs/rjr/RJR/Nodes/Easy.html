<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RJR::Nodes::Easy
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (E)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RJR.html" title="RJR (module)">RJR</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Nodes.html" title="RJR::Nodes (module)">Nodes</a></span></span>
     &raquo; 
    <span class="title">Easy</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RJR::Nodes::Easy
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Node.html" title="RJR::Node (class)">RJR::Node</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../Node.html" title="RJR::Node (class)">RJR::Node</a></span></li>
          
            <li class="next">RJR::Nodes::Easy</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rjr/nodes/easy.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Easy node definition.</p>

<p>Clients should specify the transports that they would like to use and their
relevant config upon instantating this call. After which invocations and
notifications will be routed via the correct transport depending on the
format of the destination.</p>

<p>All nodes managed locally will share the same dispatcher so that json-rpc
methods only need to be registered once, with the multi-node itself.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>invoking requests via multiple protocols</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_easy'>easy</span> <span class='op'>=</span> <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>Easy</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='symbol'>:tcp</span>  <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:host</span>   <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:port</span> <span class='op'>=&gt;</span> <span class='int'>8999</span> <span class='rbrace'>}</span><span class='comma'>,</span>
                            <span class='symbol'>:amqp</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:broker</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>

<span class='id identifier rubyid_easy'>easy</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tcp://localhost:9000/</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello world</span><span class='tstring_end'>&#39;</span></span>
<span class='comment'># =&gt; sent via tcp
</span>
<span class='id identifier rubyid_easy'>easy</span><span class='period'>.</span><span class='id identifier rubyid_notify'>notify</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dest-queue</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hello world</span><span class='tstring_end'>&#39;</span></span>
<span class='comment'># =&gt; sent via amqp</span></code></pre>
    
  </div>


</div>





  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../Node.html" title="RJR::Node (class)">RJR::Node</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Node.html#dispatcher-instance_method" title="RJR::Node#dispatcher (method)">#dispatcher</a></span>, <span class='object_link'><a href="../Node.html#message_headers-instance_method" title="RJR::Node#message_headers (method)">#message_headers</a></span>, <span class='object_link'><a href="../Node.html#node_id-instance_method" title="RJR::Node#node_id (method)">#node_id</a></span></p>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#node_type_for-class_method" title="node_type_for (class method)">+ (Object) <strong>node_type_for</strong>(dst) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Publically available helper, retrieve the rjr node type based on dst
format.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Easy) <strong>initialize</strong>(args = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Easy Node initializer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#invoke-instance_method" title="#invoke (instance method)">- (Object) <strong>invoke</strong>(dst, rpc_method, *args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instructs node to send rpc request, and wait for and return response.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#listen-instance_method" title="#listen (instance method)">- (Object) <strong>listen</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instruct Nodes to start listening for and dispatching rpc requests.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#notify-instance_method" title="#notify (instance method)">- (Object) <strong>notify</strong>(dst, rpc_method, *args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instructs node to send rpc notification (immadiately returns / no response
is generated).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_msg-instance_method" title="#send_msg (instance method)">- (Object) <strong>send_msg</strong>(data, connection) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Send data using specified connection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stop_on-instance_method" title="#stop_on (instance method)">- (Object) <strong>stop_on</strong>(signal) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stop node on the specified signal.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Node.html" title="RJR::Node (class)">RJR::Node</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Node.html#clear_event_handlers-instance_method" title="RJR::Node#clear_event_handlers (method)">#clear_event_handlers</a></span>, <span class='object_link'><a href="../Node.html#em-class_method" title="RJR::Node.em (method)">em</a></span>, <span class='object_link'><a href="../Node.html#halt-instance_method" title="RJR::Node#halt (method)">#halt</a></span>, <span class='object_link'><a href="../Node.html#join-instance_method" title="RJR::Node#join (method)">#join</a></span>, <span class='object_link'><a href="../Node.html#node_type-instance_method" title="RJR::Node#node_type (method)">#node_type</a></span>, <span class='object_link'><a href="../Node.html#on-instance_method" title="RJR::Node#on (method)">#on</a></span>, <span class='object_link'><a href="../Node.html#persistent%3F-instance_method" title="RJR::Node#persistent? (method)">#persistent?</a></span>, <span class='object_link'><a href="../Node.html#persistent%3F-class_method" title="RJR::Node.persistent? (method)">persistent?</a></span>, <span class='object_link'><a href="../Node.html#tp-class_method" title="RJR::Node.tp (method)">tp</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RJR::Nodes::Easy (class)">Easy</a></span></tt>) <strong>initialize</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Easy Node initializer</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the options to create the node with</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:amqp</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>options to create the amqp node with</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ws</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>options to create the ws node with</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:tcp</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>options to create the ws node with</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:web</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>options to create the web node with</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/nodes/easy.rb', line 91</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
   <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>

   <span class='id identifier rubyid_nodes'>nodes</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:nodes</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
   <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_n'>n</span><span class='op'>|</span>
     <span class='id identifier rubyid_node'>node</span> <span class='op'>=</span> 
     <span class='kw'>case</span> <span class='id identifier rubyid_n'>n</span>
     <span class='kw'>when</span> <span class='symbol'>:amqp</span> <span class='kw'>then</span>
       <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>AMQP</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>  <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:amqp</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
     <span class='kw'>when</span> <span class='symbol'>:ws</span> <span class='kw'>then</span>
       <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>WS</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>    <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:ws</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
     <span class='kw'>when</span> <span class='symbol'>:tcp</span> <span class='kw'>then</span>
       <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>TCP</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>   <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:tcp</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
     <span class='kw'>when</span> <span class='symbol'>:web</span> <span class='kw'>then</span>
       <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>Web</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>   <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:web</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
     <span class='kw'>end</span>

     <span class='kw'>if</span> <span class='id identifier rubyid_node'>node</span>
       <span class='id identifier rubyid_nodes'>nodes</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_node'>node</span>
     <span class='kw'>end</span>
   <span class='rbrace'>}</span>

   <span class='ivar'>@multi_node</span> <span class='op'>=</span> <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>Multi</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='symbol'>:nodes</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_nodes'>nodes</span>
   <span class='ivar'>@dispatcher</span> <span class='op'>=</span> <span class='ivar'>@multi_node</span><span class='period'>.</span><span class='id identifier rubyid_dispatcher'>dispatcher</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="node_type_for-class_method">
  
    + (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>node_type_for</strong>(dst) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Publically available helper, retrieve the rjr node type based on dst format</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/nodes/easy.rb', line 42</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_node_type_for'>node_type_for</span><span class='lparen'>(</span><span class='id identifier rubyid_dst'>dst</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dst'>dst</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>tcp:\/\/.*</span><span class='regexp_end'>/</span></span>      <span class='op'>=~</span> <span class='id identifier rubyid_dst'>dst</span> <span class='op'>||</span>
       <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>jsonrpc:\/\/.*</span><span class='regexp_end'>/</span></span>  <span class='op'>=~</span> <span class='id identifier rubyid_dst'>dst</span> <span class='op'>||</span>
       <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>json-rpc:\/\/.*</span><span class='regexp_end'>/</span></span> <span class='op'>=~</span> <span class='id identifier rubyid_dst'>dst</span>
        <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>TCP</span>

    <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>ws:\/\/.*</span><span class='regexp_end'>/</span></span>    <span class='op'>=~</span> <span class='id identifier rubyid_dst'>dst</span>
      <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>WS</span>

    <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>http:\/\/.*</span><span class='regexp_end'>/</span></span>   <span class='op'>=~</span> <span class='id identifier rubyid_dst'>dst</span>
      <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>Web</span>

    <span class='kw'>elsif</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.*-queue$</span><span class='regexp_end'>/</span></span>   <span class='op'>=~</span> <span class='id identifier rubyid_dst'>dst</span>
      <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Nodes</span><span class='op'>::</span><span class='const'>AMQP</span>

    <span class='comment'># else # TODO
</span>    <span class='comment'># type = RJR::Nodes::Local
</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="invoke-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>invoke</strong>(dst, rpc_method, *args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Instructs node to send rpc request, and wait for and return response.</p>

<p>Implementation of RJR::Node#invoke</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dst</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>destination send request to</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rpc_method</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>json-rpc method to invoke on destination</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>array of arguments to convert to json and invoke remote method wtih</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the json result retrieved from destination converted to a ruby object</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>Exception</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the destination raises an exception, it will be converted to json and
re-raised here</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/nodes/easy.rb', line 140</span>

<span class='kw'>def</span> <span class='id identifier rubyid_invoke'>invoke</span><span class='lparen'>(</span><span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_rpc_method'>rpc_method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_get_node'>get_node</span><span class='lparen'>(</span><span class='id identifier rubyid_dst'>dst</span><span class='rparen'>)</span>
  <span class='comment'># TODO raise exception if n.nil?
</span>  <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_invoke'>invoke</span> <span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_rpc_method'>rpc_method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="listen-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>listen</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Instruct Nodes to start listening for and dispatching rpc requests</p>

<p>Implementation of RJR::Node#listen</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/nodes/easy.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_listen'>listen</span>
  <span class='ivar'>@multi_node</span><span class='period'>.</span><span class='id identifier rubyid_listen'>listen</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="notify-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>notify</strong>(dst, rpc_method, *args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Instructs node to send rpc notification (immadiately returns / no response
is generated)</p>

<p>Implementation of RJR::Node#notify</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>dst</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>destination to send notification to</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rpc_method</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>json-rpc method to invoke on destination</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>array of arguments to convert to json and invoke remote method wtih</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/nodes/easy.rb', line 153</span>

<span class='kw'>def</span> <span class='id identifier rubyid_notify'>notify</span><span class='lparen'>(</span><span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_rpc_method'>rpc_method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_get_node'>get_node</span><span class='lparen'>(</span><span class='id identifier rubyid_dst'>dst</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_n'>n</span><span class='period'>.</span><span class='id identifier rubyid_notify'>notify</span> <span class='id identifier rubyid_dst'>dst</span><span class='comma'>,</span> <span class='id identifier rubyid_rpc_method'>rpc_method</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_msg-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>send_msg</strong>(data, connection) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Send data using specified connection</p>

<p>Implementation of RJR::Node#send_msg</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/nodes/easy.rb', line 120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_msg'>send_msg</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_connection'>connection</span><span class='rparen'>)</span>
<span class='comment'># TODO
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stop_on-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>stop_on</strong>(signal) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stop node on the specified signal</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>signal</span>
      
      
        <span class='type'>(<tt>Singnal</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>signal to stop the node on</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>self</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/nodes/easy.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stop_on'>stop_on</span><span class='lparen'>(</span><span class='id identifier rubyid_signal'>signal</span><span class='rparen'>)</span>
  <span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='id identifier rubyid_signal'>signal</span><span class='rparen'>)</span> <span class='lbrace'>{</span>
    <span class='ivar'>@multi_node</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
  <span class='rbrace'>}</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Feb 21 16:45:34 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>