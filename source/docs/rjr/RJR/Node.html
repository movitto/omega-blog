<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RJR::Node
  
    &mdash; Documentation by YARD 0.8.5.2
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (N)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../RJR.html" title="RJR (module)">RJR</a></span></span>
     &raquo; 
    <span class="title">Node</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RJR::Node
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">RJR::Node</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rjr/node.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Base RJR Node interface. Nodes are the central transport mechanism of RJR,
this class provides the core methods common among all transport types and
mechanisms to start and run the subsystems which drives all requests.</p>

<p>A subclass of RJR::Node should be defined for each transport that is
supported. Each subclass should define</p>

<pre class="code ruby"><code class="ruby">* RJR_NODE_TYPE - unique id of the transport
* listen method - begin listening for new requests and return
* send_message(msg, connection) - send message using the specified connection (transport dependent)
* invoke - establish connection, send message, and wait for / return result
* notify - establish connection, send message, and immediately return</code></pre>

<p>Not all methods necessarily have to be implemented depending on the context
/ use of the node, and the base node class provides many utility methods
which to assist in message processing (see below).</p>

<p>See nodes residing in lib/rjr/nodes/ for specific examples.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Nodes/AMQP.html" title="RJR::Nodes::AMQP (class)">RJR::Nodes::AMQP</a></span>, <span class='object_link'><a href="Nodes/Easy.html" title="RJR::Nodes::Easy (class)">RJR::Nodes::Easy</a></span>, <span class='object_link'><a href="Nodes/Local.html" title="RJR::Nodes::Local (class)">RJR::Nodes::Local</a></span>, <span class='object_link'><a href="Nodes/Missing.html" title="RJR::Nodes::Missing (class)">RJR::Nodes::Missing</a></span>, <span class='object_link'><a href="Nodes/Multi.html" title="RJR::Nodes::Multi (class)">RJR::Nodes::Multi</a></span>, <span class='object_link'><a href="Nodes/TCP.html" title="RJR::Nodes::TCP (class)">RJR::Nodes::TCP</a></span>, <span class='object_link'><a href="Nodes/Template.html" title="RJR::Nodes::Template (class)">RJR::Nodes::Template</a></span>, <span class='object_link'><a href="Nodes/Unix.html" title="RJR::Nodes::Unix (class)">RJR::Nodes::Unix</a></span>, <span class='object_link'><a href="Nodes/WS.html" title="RJR::Nodes::WS (class)">RJR::Nodes::WS</a></span>, <span class='object_link'><a href="Nodes/Web.html" title="RJR::Nodes::Web (class)">RJR::Nodes::Web</a></span></p>
</div>




  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispatcher-instance_method" title="#dispatcher (instance method)">- (Object) <strong>dispatcher</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Dispatcher to use to satisfy requests.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#message_headers-instance_method" title="#message_headers (instance method)">- (Object) <strong>message_headers</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Attitional header fields to set on all requests and responses received and
sent by node.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#node_id-instance_method" title="#node_id (instance method)">- (Object) <strong>node_id</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Unique string identifier of the node.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#em-class_method" title="em (class method)">+ (Object) <strong>em</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>XXX used by debugging / stats interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#persistent%3F-class_method" title="persistent? (class method)">+ (Boolean) <strong>persistent?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Bool indiciting if this node is persistent.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tp-class_method" title="tp (class method)">+ (Object) <strong>tp</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_event_handlers-instance_method" title="#clear_event_handlers (instance method)">- (Object) <strong>clear_event_handlers</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Reset connection event handlers.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#halt-instance_method" title="#halt (instance method)">- (Object) <strong>halt</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Immediately terminate the node.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Node) <strong>initialize</strong>(args = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>RJR::Node initializer.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join-instance_method" title="#join (instance method)">- (Object) <strong>join</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Block until the eventmachine reactor and thread pool have both completed
running.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#node_type-instance_method" title="#node_type (instance method)">- (Object) <strong>node_type</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>alias of RJR_NODE_TYPE.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on-instance_method" title="#on (instance method)">- (Object) <strong>on</strong>(event, &amp;handler) {|Node| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Register connection event handler.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#persistent%3F-instance_method" title="#persistent? (instance method)">- (Boolean) <strong>persistent?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Bool indicating if this node class is persistent.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RJR::Node (class)">Node</a></span></tt>) <strong>initialize</strong>(args = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>RJR::Node initializer</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>options to set on request</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>args</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:node_id</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>unique id of the node</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:headers</span>
          <span class="type">(<tt>Hash&lt;String,String&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>optional headers to set on all json-rpc messages</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:dispatcher</span>
          <span class="type">(<tt><span class='object_link'><a href="Dispatcher.html" title="RJR::Dispatcher (class)">Dispatcher</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>dispatcher to assign to the node</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
   <span class='id identifier rubyid_clear_event_handlers'>clear_event_handlers</span>
   <span class='ivar'>@response_lock</span> <span class='op'>=</span> <span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
   <span class='ivar'>@response_cv</span>   <span class='op'>=</span> <span class='const'>ConditionVariable</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
   <span class='ivar'>@responses</span>     <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

   <span class='ivar'>@node_id</span>         <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:node_id</span><span class='rbracket'>]</span>
   <span class='ivar'>@dispatcher</span>      <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:dispatcher</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'>RJR</span><span class='op'>::</span><span class='const'>Dispatcher</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
   <span class='ivar'>@message_headers</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:headers</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='symbol'>:headers</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

   <span class='cvar'>@@tp</span> <span class='op'>||=</span> <span class='const'>ThreadPool</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
   <span class='cvar'>@@em</span> <span class='op'>||=</span> <span class='const'>EMAdapter</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

   <span class='comment'># will do nothing if already started
</span>   <span class='cvar'>@@tp</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
   <span class='cvar'>@@em</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="dispatcher=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="dispatcher-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>dispatcher</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Dispatcher to use to satisfy requests</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 45</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispatcher'>dispatcher</span>
  <span class='ivar'>@dispatcher</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="message_headers=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="message_headers-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>message_headers</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Attitional header fields to set on all requests and responses received and
sent by node</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_message_headers'>message_headers</span>
  <span class='ivar'>@message_headers</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="node_id-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>node_id</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Unique string identifier of the node</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


38
39
40</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 38</span>

<span class='kw'>def</span> <span class='id identifier rubyid_node_id'>node_id</span>
  <span class='ivar'>@node_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="em-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>em</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>XXX used by debugging / stats interface</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 66</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_em'>em</span> <span class='semicolon'>;</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='cvar'>@@em</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='cvar'>@@em</span> <span class='op'>:</span> <span class='kw'>nil</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="persistent?-class_method">
  
    + (<tt>Boolean</tt>) <strong>persistent?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Bool indiciting if this node is persistent</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_persistent?'>persistent?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:PERSISTENT_NODE</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='symbol'>:PERSISTENT_NODE</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tp-class_method">
  
    + (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>tp</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 67</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tp'>tp</span> <span class='semicolon'>;</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='cvar'>@@tp</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='cvar'>@@tp</span> <span class='op'>:</span> <span class='kw'>nil</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="clear_event_handlers-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>clear_event_handlers</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Reset connection event handlers</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


116
117
118</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 116</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_event_handlers'>clear_event_handlers</span>
  <span class='ivar'>@connection_event_handlers</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:closed</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:error</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="halt-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>halt</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Immediately terminate the node</p>

<p><strong>Warning</strong> this does what it says it does. All running
threads, and reactor jobs are immediately killed</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>self</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


108
109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 108</span>

<span class='kw'>def</span> <span class='id identifier rubyid_halt'>halt</span>
  <span class='cvar'>@@em</span><span class='period'>.</span><span class='id identifier rubyid_stop_event_loop'>stop_event_loop</span>
  <span class='cvar'>@@tp</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="join-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>join</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Block until the eventmachine reactor and thread pool have both completed
running</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'>
<p>self</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 96</span>

<span class='kw'>def</span> <span class='id identifier rubyid_join'>join</span>
  <span class='cvar'>@@tp</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
  <span class='cvar'>@@em</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="node_type-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>node_type</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>alias of RJR_NODE_TYPE</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_node_type'>node_type</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='op'>::</span><span class='const'>RJR_NODE_TYPE</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>on</strong>(event, &amp;handler) {|Node| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Register connection event handler</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>event</span>
      
      
        <span class='type'>(<tt>:error</tt>, <tt>:close</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the event to register the handler for</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>handler</span>
      
      
        <span class='type'>(<tt>Callable</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>block param to be added to array of handlers that are called when event
occurs</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="RJR::Node (class)">Node</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>self is passed to each registered handler when event occurs</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on'>on</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_handler'>handler</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='ivar'>@connection_event_handlers</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='rparen'>)</span>
    <span class='ivar'>@connection_event_handlers</span><span class='lbracket'>[</span><span class='id identifier rubyid_event'>event</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_handler'>handler</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="persistent?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>persistent?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Bool indicating if this node class is persistent</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rjr/node.rb', line 56</span>

<span class='kw'>def</span> <span class='id identifier rubyid_persistent?'>persistent?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_persistent?'>persistent?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Feb 21 16:45:33 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.5.2 (ruby-2.0.0).
</div>

  </body>
</html>